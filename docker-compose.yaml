version: '3.8'

services:

  balancer:
    build:
      context: ./balancer-service
    container_name: balancer
    ports:
      - "8080:8080"
    environment:
      - PORT=8080
    volumes:
      - ./balancer-service/config.json:/app/config.json

  test-service1:
    build:
      context: ./test-service
    container_name: test-service1
    hostname: test-service1
    ports:
      - "50061:50061"
    environment:
      - PORT=50061

  test-service2:
    build:
      context: ./test-service
    container_name: test-service2
    hostname: test-service2
    ports:
      - "50062:50062"
    environment:
      - PORT=50062

  test-service3:
    build:
      context: ./test-service
    container_name: test-service3
    hostname: test-service3
    ports:
      - "50063:50063"
    environment:
      - PORT=50063

  test-service4:
    build:
      context: ./test-service
    container_name: test-service4
    hostname: test-service4
    ports:
      - "50064:50064"
    environment:
      - PORT=50064

  test-service5:
    build:
      context: ./test-service
    container_name: test-service5
    hostname: test-service5
    ports:
      - "50065:50065"
    environment:
      - PORT=50065